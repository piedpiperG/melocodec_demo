<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeloCodec: Harnessing Melodic Priors for High-Fidelity Singing Voice Representation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        /* ========== Header Section ========== */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }

        .paper-title {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.3;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .paper-authors {
            font-size: 1.3em;
            margin-bottom: 15px;
            opacity: 0.95;
        }

        .paper-conference {
            font-size: 1.1em;
            opacity: 0.9;
            font-style: italic;
        }

        /* ========== Main Content ========== */
        .content {
            padding: 50px 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 2em;
            color: #2c3e50;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #667eea;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title::before {
            content: attr(data-icon);
            font-size: 1.2em;
        }

        /* ========== Abstract Section ========== */
        .abstract-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .abstract-text {
            font-size: 1.05em;
            color: #2c3e50;
            text-align: justify;
            line-height: 1.8;
        }

        .highlight {
            background: linear-gradient(120deg, #ffd89b 0%, #19547b 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
        }

        /* ========== Main Figure ========== */
        .main-figure {
            text-align: center;
            margin: 40px 0;
        }

        .main-figure img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border: 3px solid #e0e0e0;
        }

        .figure-caption {
            margin-top: 20px;
            font-size: 1em;
            color: #555;
            font-style: italic;
        }

        /* ========== Audio Samples ========== */
        .sample-item {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .sample-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .sample-header {
            font-size: 1.8em;
            font-weight: bold;
            color: white;
            margin-bottom: 25px;
            padding: 15px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sample-header::before {
            content: "üéµ";
            font-size: 1.2em;
        }

        .original-section {
            background: linear-gradient(135deg, #fa8bff 0%, #2bd2ff 30%, #2bff88 90%);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .original-label {
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
            font-size: 1.3em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .original-section audio {
            width: 100%;
            height: 45px;
        }

        .codecs-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .codec-block {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 25px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .codec-block:hover {
            transform: translateX(5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.12);
            border-color: #667eea;
        }

        .codec-title {
            font-weight: bold;
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
        }

        .codec-title::before {
            content: "üéº";
            margin-right: 12px;
            font-size: 1.2em;
        }

        .bitrate-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .bitrate-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #dee2e6;
            transition: border-color 0.3s;
        }

        .bitrate-item:hover {
            border-color: #667eea;
        }

        .bitrate-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 12px;
            font-size: 1.05em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .bitrate-label.high {
            color: #28a745;
        }

        .bitrate-label.high::before {
            content: "üü¢ ";
        }

        .bitrate-label.low {
            color: #ffc107;
        }

        .bitrate-label.low::before {
            content: "üü° ";
        }

        /* ========== Pitch Shifting Styles ========== */
        .pitch-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .pitch-label {
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
            font-size: 1.3em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .pitch-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .pitch-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 3px solid #f5576c;
        }

        .pitch-item-label {
            font-weight: 600;
            color: #f5576c;
            margin-bottom: 12px;
            font-size: 1.05em;
            letter-spacing: 1px;
        }

        .pitch-item-label::before {
            content: "üéπ ";
        }

        audio {
            width: 100%;
            height: 40px;
        }

        .loading {
            text-align: center;
            padding: 60px;
            color: #666;
            font-size: 1.4em;
        }

        .loading::before {
            content: "‚è≥ ";
            font-size: 1.5em;
        }

        /* ========== Footer ========== */
        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 30px;
            font-size: 0.95em;
        }

        /* ========== Responsive Design ========== */
        @media (max-width: 768px) {
            .paper-title {
                font-size: 1.8em;
            }

            .content {
                padding: 30px 20px;
            }

            .header {
                padding: 30px 20px;
            }

            .bitrate-grid, .pitch-grid {
                grid-template-columns: 1fr;
            }

            .section-title {
                font-size: 1.5em;
            }
        }

        /* ========== Key Contribution Highlight ========== */
        .key-point {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .key-point strong {
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="paper-title">MeloCodec: Harnessing Melodic Priors for High-Fidelity Singing Voice Representation</h1>
            <p class="paper-authors">Anonymous ICME Submission</p>
            <p class="paper-conference">International Conference on Multimedia and Expo (ICME)</p>
        </div>

        <!-- Main Content -->
        <div class="content">
            
            <!-- Abstract Section -->
            <div class="section">
                <h2 class="section-title" data-icon="üìÑ">Abstract</h2>
                <div class="abstract-box">
                    <p class="abstract-text">
                        Neural audio codecs serve as fundamental tokenizers for LLM-based audio generation. 
                        While semantic priors are widely exploited to enhance linguistic intelligibility, 
                        the integration of explicit acoustic priors remains underexplored, limiting synthesis 
                        fidelity in frequency-sensitive domains. To address this gap, we introduce <strong>MeloCodec</strong>, 
                        a novel framework designed to effectively incorporate melodic priors‚Äîa critical form of 
                        acoustic information for singing. We first identify that direct fusion of such explicit 
                        priors with neural latents leads to severe optimization instability. Consequently, our 
                        core contribution is a <span class="highlight">"tokenize-then-fuse" paradigm</span> that pre-trains 
                        a discrete melodic branch to lock in structures before feature fusion. To robustly realize 
                        this paradigm, we further propose a robust two-stage training strategy, which prevents 
                        codebook collapse and ensures stable convergence where direct fusion fails. Experiments 
                        show that MeloCodec outperforms baselines in singing voice representation, improving pitch 
                        consistency and enabling controllable pitch manipulation with minimal timbre degradation.
                    </p>
                </div>

                <div class="key-point">
                    <strong>üîë Key Contribution:</strong> A novel "tokenize-then-fuse" paradigm with robust two-stage training 
                    strategy that effectively incorporates melodic priors for high-fidelity singing voice representation.
                </div>
            </div>

            <!-- Main Figure Section -->
            <div class="section">
                <h2 class="section-title" data-icon="üñºÔ∏è">Method Overview</h2>
                <div class="main-figure">
                    <img src="main_pic_v2.png" alt="MeloCodec Architecture" onerror="this.onerror=null; this.src='main_pic_v2.png';">
                    <p class="figure-caption">
                        <strong>Figure 1:</strong> Overview of the MeloCodec architecture showing the tokenize-then-fuse paradigm 
                        for integrating melodic priors with neural audio codec.
                    </p>
                </div>
            </div>

            <!-- Audio Samples Section -->
            <div id="loadingMessage" class="loading">Loading audio samples...</div>
            <div id="testContent"></div>

        </div>

        <!-- Footer -->
        <div class="footer">
            <p>¬© 2024 MeloCodec | Anonymous ICME Submission</p>
            <p style="margin-top: 10px; font-size: 0.9em;">
                üîó Demo Page | For review purposes only
            </p>
        </div>
    </div>

    <script>
        // ============ Configuration ============
        const CONFIG = {
            audioPath: 'audio',
            samples: [1, 2, 3, 4, 5],
            codecs: [
                { folder: 'bwc', name: 'MeloCodec (Ours)', bitrates: ['high', 'low'] },
                { folder: 'encodec', name: 'Encodec', bitrates: ['high', 'low'] },
                { folder: 'dac', name: 'DAC', bitrates: ['high', 'low'] },
                { folder: 'mucodec', name: 'MuCodec', bitrates: ['low'] },
                { folder: 'xcodec', name: 'XCodec', bitrates: ['high', 'low'] }
            ],
            pitchShifts: [
                { shift: 2, label: '+2 Semitones' },
                { shift: 4, label: '+4 Semitones' }
            ],
            audioExt: 'wav'
        };

        // ============ Load & Render ============
        function init() {
            // Codec comparison data
            const audioData = CONFIG.samples.map((id, idx) => ({
                id: id,
                index: idx + 1,
                original: `${CONFIG.audioPath}/original/${id}.${CONFIG.audioExt}`,
                codecs: CONFIG.codecs.map(codec => ({
                    name: codec.name,
                    folder: codec.folder,
                    bitrates: codec.bitrates.map(bitrate => ({
                        bitrate: bitrate,
                        path: `${CONFIG.audioPath}/${codec.folder}/${bitrate}/${id}.${CONFIG.audioExt}`
                    }))
                }))
            }));

            // Pitch shifting data
            const pitchData = CONFIG.samples.map((id, idx) => ({
                id: id,
                index: idx + 1,
                original: `${CONFIG.audioPath}/original/${id}.${CONFIG.audioExt}`,
                shifts: CONFIG.pitchShifts.map(shift => ({
                    label: shift.label,
                    path: `${CONFIG.audioPath}/pitch_shift/shifted_${shift.shift}_${id}.${CONFIG.audioExt}`
                }))
            }));

            render(audioData, pitchData);
        }

        function render(audioData, pitchData) {
            let html = '';
            
            // ========== Codec Comparison Section ==========
            html += `
                <div class="section">
                    <h2 class="section-title" data-icon="üéº">Codec Comparison</h2>
                    <p style="margin-bottom: 30px; color: #555; font-size: 1.05em;">
                        Compare the reconstruction quality of MeloCodec with state-of-the-art neural audio codecs 
                        at different bitrates. Listen to how MeloCodec preserves melodic fidelity and timbre quality.
                    </p>
            `;
            
            audioData.forEach(sample => {
                html += `
                    <div class="sample-item">
                        <div class="sample-header">Sample ${sample.index}</div>
                        
                        <div class="original-section">
                            <div class="original-label">üéØ Original Audio (Ground Truth)</div>
                            <audio controls preload="metadata" src="${sample.original}"></audio>
                        </div>

                        <div class="codecs-container">
                `;

                sample.codecs.forEach(codec => {
                    html += `
                        <div class="codec-block">
                            <div class="codec-title">${codec.name}</div>
                            <div class="bitrate-grid">
                    `;

                    codec.bitrates.forEach(b => {
                        html += `
                            <div class="bitrate-item">
                                <div class="bitrate-label ${b.bitrate}">${b.bitrate.toUpperCase()} Bitrate</div>
                                <audio controls preload="metadata" src="${b.path}"></audio>
                            </div>
                        `;
                    });

                    html += `
                            </div>
                        </div>
                    `;
                });

                html += '</div></div>';
            });

            html += '</div>';

            // ========== Pitch Shifting Section ==========
            html += `
                <div class="section">
                    <h2 class="section-title" data-icon="üéπ">Pitch Shifting Experiment</h2>
                    <p style="margin-bottom: 30px; color: #555; font-size: 1.05em;">
                        Demonstration of controllable pitch manipulation capability. MeloCodec enables pitch shifting 
                        with minimal timbre degradation by manipulating melodic priors in the latent space.
                    </p>
            `;
            
            pitchData.forEach(sample => {
                html += `
                    <div class="sample-item">
                        <div class="sample-header">Sample ${sample.index}</div>
                        
                        <div class="original-section">
                            <div class="original-label">üéØ Original Audio (Reference)</div>
                            <audio controls preload="metadata" src="${sample.original}"></audio>
                        </div>

                        <div class="pitch-section">
                            <div class="pitch-label">üéöÔ∏è Pitch Shifted Results</div>
                            <div class="pitch-grid">
                `;

                sample.shifts.forEach(shift => {
                    html += `
                        <div class="pitch-item">
                            <div class="pitch-item-label">${shift.label}</div>
                            <audio controls preload="metadata" src="${shift.path}"></audio>
                        </div>
                    `;
                });

                html += `
                            </div>
                        </div>
                    </div>
                `;
            });

            html += '</div>';

            document.getElementById('loadingMessage').style.display = 'none';
            document.getElementById('testContent').innerHTML = html;
        }

        // ============ Initialize ============
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>